<!doctype html>  <head> <meta charset=utf-8> <style builtin>body,html{height:100%;margin:0;padding:0}.spinner,.spinner:after{border-radius:50%;width:10em;height:10em}.spinner{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:1.1em solid rgba(140,140,140,.2);border-right:1.1em solid rgba(140,140,140,.2);border-bottom:1.1em solid rgba(140,140,140,.2);border-left:1.1em solid #8c8c8c;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:spinner 1.1s infinite linear;animation:spinner 1.1s infinite linear}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body{display:flex;justify-content:center;align-items:center;padding:15px}.message{font-size:22px;font-family:sans-serif;text-align:center}#close{position:fixed;right:32px;top:32px;width:32px;height:32px;opacity:.5;cursor:pointer}#close:after,#close:before{position:fixed;right:48px;content:' ';height:33px;width:3px;background-color:#333}#close:before{transform:rotate(45deg)}#close:after{transform:rotate(-45deg)}.invisible{display:none}</style> <style amp-custom>body,html{margin:0;padding:0;background-color:#f6f6f6;width:100%;height:100%;overflow:hidden;font-size:14px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;background:#f1f1f1}.wrapper{width:100%;height:100%;box-sizing:border-box;padding:2em;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center}.title{font-size:1.429em;font-weight:500;max-width:360px;margin:0 auto}.subtitle{font-size:1.143em;font-weight:300;line-height:1.714em;color:#666;margin:.714em auto 2.143em;max-width:360px}.notice{font-style:italic;font-weight:300;color:#999;font-size:12px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}#subsus{margin-top:20px;display:none;color:green}button{margin:25px auto;display:block;background:#2c7be5;border:none;color:#fff;font-size:22px;padding:10px 35px;line-height:1;border-radius:5px;cursor:pointer;display:none}button:hover{background:#1a68d1}.logo{text-align:center;display:none}.logo img{width:100px}#subsus p{font-size:20px;margin:10px;color:#616161}</style> </head> <body> <div class=wrapper> <div class=content> <div id=before-permission> <div class=title>Click Allow</div> <div class=logo></div> <div class=subtitle>We'd like to send you notifications for the latest news and updates.<button id=proceed-button onclick=_webpushrPromptAction()>Click to proceed &#187;</button></div> <div class="unsubscribe notice">You can unsubscribe anytime</div> </div> <div id=subsus> <svg style=width:100px;margin-bottom:30px version=1.1 id=Layer_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewBox="0 0 286.054 286.054" style="enable-background:new 0 0 286.054 286.054" xml:space=preserve> <g> <path style=fill:#3db39e d="M143.031,0C64.027,0,0.004,64.04,0.004,143.027c0,78.996,64.031,143.027,143.027,143.027
								c78.987,0,143.018-64.031,143.018-143.027C286.049,64.049,222.018,0,143.031,0z M143.031,259.236
								c-64.183,0-116.209-52.026-116.209-116.209S78.857,26.818,143.031,26.818s116.2,52.026,116.2,116.209
								S207.206,259.236,143.031,259.236z M199.241,82.187c-6.079-3.629-13.847-1.475-17.342,4.827l-47.959,86.147l-26.71-32.512
								c-4.836-5.569-11.263-8.456-17.333-4.827c-6.079,3.638-8.591,12.39-4.657,18.004l37.169,45.241c2.78,3.611,5.953,5.775,9.27,6.392
								l0.027,0.054l0.34,0.018c0.751,0.116,11.979,2.19,16.815-6.463l55.048-98.876C207.402,93.879,205.32,85.825,199.241,82.187z"/> </g> </svg> <p>Thank you for your subscription.</p> <p>This window will now close automatically.</p> </div> </div> </div> <script>var applicationServerKey,_wp_sw_path,_wp_user_subscribed_callback,_wp_prompt_info,_wp_apple_push_id,end_point,device_token,_wp_endpoint,user_browser=-1<navigator.userAgent.indexOf("Firefox")?"Firefox":"safari"in window?"Safari":"Chrome",d1=new Date;today=d1.getMonth()+1+"/"+d1.getDate()+"/"+d1.getFullYear()+" 00:00";var _wp_is_safari=!1,_wp_debug=!0,publicMethods={init:function(){switch(console.log("Web Push Notifications powered by WEBPUSHR"),applicationServerKey=self.location.search.match(/public_key=([0-9a-zA-Z-_]+)&?/i)[1],console.log(applicationServerKey),_wp_sw_path="/webpushr-sw.js",_webpushrBrowserSupport()){case!0:_wp_debug&&console.log("It's Chrome"),_wp_registerServiceWorker();break;case"Firefox":_wp_debug&&console.log("It's Firefox"),document.getElementById("proceed-button").style.display="block";break;case"http":_webpushrCheckPermission()}}};function _webpushrBrowserSupport(){return"safari"in window&&"pushNotification"in window.safari?"safari":-1!=window.location.href.indexOf("http://")?"http":"serviceWorker"in navigator?"PushManager"in window?"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(console.warn("WEBPUSHR: Notifications are denied by the user"),!1):(_wp_debug&&console.log("WEBPUSHR: Browser supports web push notifications"),!(-1<navigator.userAgent.indexOf("Firefox"))||"Firefox"):(console.warn("WEBPUSHR: Notifications are not supported by this browser"),!1):(console.warn("WEBPUSHR: Push notifications are not supported by this browser"),!1):(console.warn("WEBPUSHR: Service workers are not supported by this browser"),!1)}function _webpushrPromptAction(){document.getElementById("proceed-button").innerHTML="Processing...",_wp_registerServiceWorker()}function _wp_registerServiceWorker(){navigator.serviceWorker.register(_wp_sw_path,{scope:"/"}).then(function(e){_wp_debug&&console.log("Service worker has been registered successfully!"),_webpushrCheckPermission()},e=>{console.error("[SW] Service worker registration failed",e),console.warn("Cannot access service worker file. Please confirm you have service worker file at  "+_wp_sw_path)})}function _webpushrCheckPermission(){if(-1!=window.location.href.indexOf("http://"))return _webpushrGetCookie("_webpushrSubscriberID")?(_wp_endpoint=_webpushrGetCookie("_webpushrSubscriberID"),fetch("https://bot.webpushr.com/logs/visit",{body:JSON.stringify({sub_id:_wp_endpoint,site_id:applicationServerKey,url:window.location.href}),method:"POST"}),_webpushrExecuteHooks(),void("undefined"!=typeof _webpushrScriptReady&&"function"==typeof _webpushrScriptReady&&_webpushrScriptReady())):void 0;"default"==Notification.permission?_webpushrRequestPermission():"granted"==Notification.permission&&_wpCheckSubscription()}function _wpCheckSubscription(){navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>(_wp_debug&&console.log("Check subscription"),e?(_wp_debug&&console.log("User alerady subscribed"),_webpushrSubscribeNow(e),_webpushrLastVisit=localStorage.getItem("_webpushrLastVisit"),!_webpushrLastVisit||new Date(_webpushrLastVisit)<new Date(today)?(localStorage.setItem("_webpushrLastVisit",today),_wp_debug&&console.log("Send page visit update request"),_webpushrSendSubscriptionToServer(e,"PUT")):void 0):(_wp_debug&&console.log("No subscription found, ask for permission"),void _webpushrRequestPermission()))).catch(e=>{console.log(e)})}publicMethods.init();var checkRemotePermission=function(e){if("default"===e.permission)window.safari.pushNotification.requestPermission("https://bot.webpushr.com",_wp_apple_push_id,{host:_wp_prompt_info.host,site_id:applicationServerKey},checkRemotePermission);else if("denied"===e.permission)console.log("The user said no."),"function"==typeof webpushrPermissionAction&&webpushrPermissionAction("denied"),_webpushrSendSubscriptionToServer("","DELETE"),_webpushrPermissionResetInstructions();else if("granted"===e.permission)return _webpushrSendSubscriptionToServer(e.deviceToken,"POST")};function _webpushrRequestPermission(){Notification.requestPermission().then(e=>{switch(e){case"default":console.log("permission unknown");break;case"denied":console.log("permission denied"),_webpushrSendSubscriptionToServer("","DELETE");break;case"granted":_webpushrSubscribeNow()}})}function _webpushrSubscribeNow(o=null){navigator.serviceWorker.ready.then(function(e){e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_wp_urlBase64ToUint8Array(applicationServerKey)}).then(e=>(_wp_endpoint=end_point=e.endpoint,null==o?(_wp_debug&&console.log("New subscriber, store in localstorage and database"),_webpushrSendSubscriptionToServer(e,"POST")):void(_wp_debug&&console.log("Already registerd on webpushr")))).catch(e=>{console.log(e),null!==o&&o.unsubscribe().then(function(e){_webpushrRequestPermission()})})})}function _wp_urlBase64ToUint8Array(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");const o=window.atob(e),i=new Uint8Array(o.length);for(let e=0;e<o.length;++e)i[e]=o.charCodeAt(e);return i}function _webpushrSendSubscriptionToServer(e,o,i=""){var r,n;document.getElementById("subsus").style.display="block",document.getElementById("before-permission").style.display="none",e=e&&!_wp_is_safari?(r=e.getKey("p256dh"),n=e.getKey("auth"),{endpoint:end_point=e.endpoint,key:r?btoa(String.fromCharCode.apply(null,new Uint8Array(r))):null,token:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null,site_id:applicationServerKey,type:o,old:"old_endpoint"in e?e.old_endpoint:"",timezone:(new Date).getTimezoneOffset()}):e&&_wp_is_safari?{type:"POST",site_id:applicationServerKey,endpoint:end_point=e,timezone:(new Date).getTimezoneOffset()}:{type:"DELETE",site_id:applicationServerKey},fetch("https://bot.webpushr.com/subscribe/"+i,{body:JSON.stringify(e),method:"POST"}).then(function(e){if(e.ok)return e.text()}).then(function(e){_wp_endpoint=end_point,console.log(_wp_endpoint),window.opener.postMessage(end_point,"*"),window.close()})}</script> 